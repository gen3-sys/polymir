# =============================================
# POLYMIR BACKEND CONFIGURATION
# =============================================
# Copy this file to .env and fill in your values

# =============================================
# DATABASE CONFIGURATION
# =============================================
# Central Library Database (persistent, global)
CENTRAL_DB_HOST=localhost
CENTRAL_DB_PORT=5432
CENTRAL_DB_NAME=polymir_central
CENTRAL_DB_USER=polymir
CENTRAL_DB_PASSWORD=your_password_here
CENTRAL_DB_URL=postgresql://polymir:your_password_here@localhost:5432/polymir_central

# World Server Database (ephemeral, per-server)
WORLD_DB_HOST=localhost
WORLD_DB_PORT=5432
WORLD_DB_NAME=polymir_world
WORLD_DB_USER=polymir
WORLD_DB_PASSWORD=your_password_here
WORLD_DB_URL=postgresql://polymir:your_password_here@localhost:5432/polymir_world

# =============================================
# IPFS CONFIGURATION
# =============================================
# IPFS node API endpoint
IPFS_HOST=localhost
IPFS_PORT=5001
IPFS_PROTOCOL=http
IPFS_API_URL=http://localhost:5001

# =============================================
# LIBP2P CONFIGURATION
# =============================================
# Server's libp2p listen addresses
LIBP2P_LISTEN_TCP=/ip4/0.0.0.0/tcp/4001
LIBP2P_LISTEN_WS=/ip4/0.0.0.0/tcp/4002/ws

# Bootstrap nodes (comma-separated multiaddrs)
LIBP2P_BOOTSTRAP_NODES=

# Server's public multiaddr (for federation)
LIBP2P_ANNOUNCE_ADDR=/ip4/127.0.0.1/tcp/4001

# =============================================
# SERVER CONFIGURATION
# =============================================
# Server identity
SERVER_ID=11111111-1111-1111-1111-111111111111
SERVER_NAME=polymir-main
RULESET_HASH=DEFAULT_RULESET_V1

# Spatial position in supercluster federation
SERVER_POSITION_X=0
SERVER_POSITION_Y=0
SERVER_POSITION_Z=0

# =============================================
# API CONFIGURATION
# =============================================
# REST API (Central Library)
API_PORT=3000
API_HOST=0.0.0.0

# WebSocket (World Server)
WS_PORT=3001
WS_HOST=0.0.0.0

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:8000,http://127.0.0.1:8000

# =============================================
# TRUST & VALIDATION CONFIGURATION
# =============================================
# Trust score adjustments
TRUST_INCREASE_CORRECT=0.02
TRUST_DECREASE_INCORRECT=0.10
TRUST_INITIAL_SCORE=0.5

# Validation requirements by trust tier
VALIDATION_HIGH_TRUST=0.9
VALIDATION_MEDIUM_TRUST=0.5
VALIDATION_LOW_TRUST=0.0

VALIDATORS_REQUIRED_HIGH=0
VALIDATORS_REQUIRED_MEDIUM=3
VALIDATORS_REQUIRED_LOW=5

# Validation timeout
VALIDATION_TIMEOUT_MS=300000

# =============================================
# PHYSICS CONFIGURATION
# =============================================
# Body physics tick rate
PHYSICS_TICK_RATE_HZ=10
PHYSICS_TICK_INTERVAL_MS=100

# =============================================
# ENVIRONMENT
# =============================================
NODE_ENV=development
LOG_LEVEL=info
